
{
  "entities": {
    "User": {
      "title": "User",
      "type": "object",
      "description": "Represents a user of the MajorStockX application.",
      "properties": {
        "name": {
          "type": "string",
          "description": "Full name of the user."
        },
        "email": {
          "type": "string",
          "description": "Email address of the user.",
          "format": "email"
        },
        "role": {
          "type": "string",
          "description": "Role of the user (e.g., Admin, Employee).",
          "enum": ["Admin", "Employee"]
        }
      },
      "required": ["name", "email", "role"]
    },
    "Employee": {
      "title": "Employee",
      "type": "object",
      "description": "Represents an internal employee with username/password auth.",
      "properties": {
        "username": { "type": "string" },
        "password": { "type": "string", "description": "This should be a hashed password in a real application." },
        "role": { "type": "string", "enum": ["Admin", "Employee"] }
      },
      "required": ["username", "password", "role"]
    },
    "CatalogProduct": {
      "title": "CatalogProduct",
      "type": "object",
      "description": "Represents a base product in the company's catalog.",
      "properties": {
        "name": { "type": "string" },
        "category": { "type": "string" },
        "price": { "type": "number" },
        "lowStockThreshold": { "type": "number" },
        "criticalStockThreshold": { "type": "number" },
        "unit": { "type": "string" }
      },
      "required": ["name", "category", "price"]
    },
    "CatalogCategory": {
      "title": "CatalogCategory",
      "type": "object",
      "description": "Represents a product category in the company's catalog.",
      "properties": {
        "name": { "type": "string" }
      },
      "required": ["name"]
    },
    "Product": {
      "title": "Product",
      "type": "object",
      "description": "Represents a specific product instance in the inventory.",
      "properties": {
        "name": { "type": "string" },
        "category": { "type": "string" },
        "stock": { "type": "number" },
        "reservedStock": { "type": "number" },
        "price": { "type": "number" },
        "lowStockThreshold": { "type": "number" },
        "criticalStockThreshold": { "type": "number" },
        "lastUpdated": { "type": "string", "format": "date" },
        "location": { "type": "string" },
        "unit": { "type": "string" }
      },
      "required": ["name", "category", "stock", "price", "lastUpdated"]
    },
    "Sale": {
      "title": "Sale",
      "type": "object",
      "description": "Represents a sale transaction.",
      "properties": {
        "date": { "type": "string", "format": "date-time" },
        "productId": { "type": "string" },
        "productName": { "type": "string" },
        "quantity": { "type": "number" },
        "unitPrice": { "type": "number" },
        "totalValue": { "type": "number" },
        "soldBy": { "type": "string" },
        "guideNumber": { "type": "string" },
        "location": { "type": "string" },
        "status": { "type": "string", "enum": ["Pago", "Levantado"] }
      },
      "required": ["date", "productId", "productName", "quantity", "totalValue", "soldBy", "guideNumber", "status"]
    },
    "Production": {
      "title": "Production",
      "type": "object",
      "description": "Represents a production record.",
      "properties": {
        "date": { "type": "string", "format": "date" },
        "productName": { "type": "string" },
        "quantity": { "type": "number" },
        "registeredBy": { "type": "string" },
        "location": { "type": "string" },
        "status": { "type": "string", "enum": ["Concluído", "Transferido"] }
      },
      "required": ["date", "productName", "quantity", "registeredBy", "status"]
    },
    "Order": {
      "title": "Order",
      "type": "object",
      "description": "Represents a production order.",
      "properties": {
        "productName": { "type": "string" },
        "quantity": { "type": "number" },
        "unit": { "type": "string" },
        "clientName": { "type": "string" },
        "deliveryDate": { "type": "string", "format": "date-time" },
        "status": { "type": "string", "enum": ["Pendente", "Em produção", "Concluída"] },
        "productionStartDate": { "type": "string", "format": "date-time" },
        "quantityProduced": { "type": "number" },
        "productionLogs": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "date": { "type": "string", "format": "date-time" },
              "quantity": { "type": "number" },
              "notes": { "type": "string" },
              "registeredBy": { "type": "string" }
            }
          }
        }
      },
      "required": ["productName", "quantity", "unit", "deliveryDate", "status", "quantityProduced"]
    }
  },
  "auth": {
    "providers": []
  },
  "firestore": {
    "structure": [
      {
        "path": "/catalogProducts/{productId}",
        "definition": {
          "schema": { "$ref": "#/entities/CatalogProduct" },
          "description": "Stores the base product catalog."
        }
      },
      {
        "path": "/catalogCategories/{categoryId}",
        "definition": {
          "schema": { "$ref": "#/entities/CatalogCategory" },
          "description": "Stores the product categories."
        }
      },
      {
        "path": "/products/{productId}",
        "definition": {
          "schema": { "$ref": "#/entities/Product" },
          "description": "Stores inventory items."
        }
      },
      {
        "path": "/sales/{saleId}",
        "definition": {
          "schema": { "$ref": "#/entities/Sale" },
          "description": "Stores sales records."
        }
      },
      {
        "path": "/productions/{productionId}",
        "definition": {
          "schema": { "$ref": "#/entities/Production" },
          "description": "Stores production records."
        }
      },
      {
        "path": "/orders/{orderId}",
        "definition": {
          "schema": { "$ref": "#/entities/Order" },
          "description": "Stores production orders."
        }
      },
      {
        "path": "/employees/{employeeId}",
        "definition": {
          "schema": { "$ref": "#/entities/Employee" },
          "description": "Stores internal employee user accounts."
        }
      }
    ]
  }
}
